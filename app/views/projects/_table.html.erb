<% filtered ||= false %>
<% projects ||= [] %>
<% customer ||= nil %>
<div class="flex">
  <div class="w-full lg:mb-4 flex justify-start lg:justify-between items-center p-4 lg:p-0">
    <div class="hidden lg:flex">
      <h2 class="text-gray-900 text-2xl xl:text-3xl font-semibold leading-none">
        <% if params[:status].present? %>
        <%= t("model.project.status.#{params[:status]}") %>
        <span class="lowercase"><%= t('.title') %></span>
        <% else %>
        <%= t('.all_projects') %>
        <% end %>
      </h2>
    </div>
    <div class="flex flex-wrap items-center">
      <div class="flex flex-row mb-1 sm:mb-0">
        <div class="relative">
          <select class="form-input text-sm bg-white pr-8">
            <option>5</option>
            <option>10</option>
            <option>20</option>
          </select>
          <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
            <svg class="h-5 w-5 text-gray-500" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd"
                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                clip-rule="evenodd" />
            </svg>
          </div>
        </div>
        <div class="flex items-center ml-2">
          <%= project_status_button(:active, params[:status], object: customer) %>
          <%= project_status_button(:archived, params[:status], object: customer) %>
          <%= project_status_button(:all, params[:status], object: customer) %>
        </div>
      </div>
      <div class="relative w-full lg:w-48 xl:w-64 mt-2 lg:mt-0 lg:ml-2">
        <span class="absolute inset-y-0 left-0 pl-2 flex items-center">
          <svg class="h-5 w-5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
          </svg>
        </span>
        <input placeholder="<%= t('.search') %>"
          class="form-input block pl-8 pr-4 py-2 w-full bg-white border border-gray-500 rounded text-sm">
      </div>
      <div class="flex items-start hidden lg:flex ml-2">
        <%= link_to(new_project_path, class: 'btn btn-blue border border-blue-600 py-1 normal-case text-base') do %>
        <svg class="h-4 w-4 text-white -ml-1 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M12 4v16m8-8H4" />
        </svg>
        <%= t('.new_project') %>
        <% end %>
      </div>
    </div>
  </div>
</div>
<div class="px-4 pb-4 lg:px-0">
  <div class="w-full border border-gray-500 rounded mb-6">
    <div class="border-b border-gray-400 bg-gray-200 rounded-t">
      <div class="w-full flex py-4">
        <div class="w-20 md:w-24 flex inline-block justify-center">
        </div>
        <div class="w-full flex">
          <div class="w-1/3 lg:w-1/4 flex">
            <span class="uppercase text-sm font-semibold text-blue-900">
              <%= t('.name') %>
            </span>
          </div>
          <div class="w-1/3 lg:w-1/4 flex">
            <span class="uppercase text-sm font-semibold text-blue-900">
              <%= t('.customer') %>
            </span>
          </div>
          <div class="w-1/4 hidden lg:flex">
            <span class="uppercase text-sm font-semibold text-blue-900">
              <%= t('.address') %>
            </span>
          </div>
          <div class="w-1/3 lg:w-1/4 flex justify-center md:justify-start">
            <span class="uppercase text-sm font-semibold text-blue-900">
              <%= t('.status') %>
            </span>
          </div>
        </div>
        <div class="w-16 hidden md:flex items-center">
        </div>
      </div>
    </div>
    <% if projects.empty? %>
    <%= render('projects/empty', filtered: filtered) %>
    <% else %>
    <% projects.each_with_index do |project, idx| %>
    <%= render("projects/row", project: project, odd: idx % 2 == 0) %>
    <% end %>
    <% end %>
    <div class="px-3 bg-white rounded-b border-t flex flex-col xs:flex-row items-end justify-center">
      <div class="px-2 align-middle inline-flex flex items-center">
        <span class="inline-flex tracking-widest font-semibold py-4 text-blue-900">
          1 2 3 4 5 6 7 8
        </span>
        <button class="text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-1 px-4 rounded ml-2">
          Next
        </button>
      </div>
    </div>
  </div>
</div>
