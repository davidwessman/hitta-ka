<div x-data="{ add_tasks: false }" data-turbolinks-permanent>
  <button @click="add_tasks = true" class="btn btn-orange">
    <%= t(".add_tasks") %>
  </button>
  <div id="invoice-tasks" x-show="add_tasks" class="px-8 overflow-y-auto bg-gray-900"
    style="background-color: rgba(0,0,0,0.3)" x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="transform opacity-0 scale-100" x-transition:enter-end="transform opacity-100 scale-100"
    class="absolute right-0 w-56 mt-2 shadow-lg origin-top-right rounded-md"
    :class="{ 'absolute inset-0 z-50 flex items-center justify-center': add_tasks }">
    <div x-show="add_tasks" @click.away="add_tasks = false"
      class="relative items-center justify-center w-full max-w-2xl bg-white border border-gray-500 opacity-100 rounded-md xl:w-1/2">
      <div class="flex items-center flex-grow p-5 border-b border-gray-400 rounded-t bg-whtie">
        <div class="w-3/4 md:w-4/5 lg:w-5/6">
          <p class="text-base font-bold text-gray-800 lg:text-2xl">
            <%= t(".add_tasks_to_your_invoice") %>
          </p>
          <p class="text-base font-bold leading-tight text-blue-500 lg:text-lg">
            <%= invoice.customer.name %> - #<%= invoice.invoice_nbr %>
          </p>
        </div>
        <div class="flex items-center w-1/4 md:w-1/5 lg:w-1/6"><%= image_tag('no_invoices.svg', alt: 'No invoices')%>
        </div>
      </div>
      <div id="modal-project-tasks">
        <%= render("invoices/tasks/modal_project_tasks", tasks: tasks, invoice: invoice) %>
      </div>
      <div
        class="absolute top-0 right-0 flex items-center justify-center w-5 h-5 mt-2 mr-2 font-bold text-white bg-gray-900 rounded cursor-pointer hover:bg-gray-700 md:hover:bg-red-400 md:bg-red-600 md:w-8 md:h-8 md:rounded-full md:-mt-4 md:-mr-4"
        @click="add_tasks = false">
        <svg class="w-3 h-3 md:h-5 md:w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </div>
      <div class="flex w-full px-5 py-5">
        <div class="flex items-center justify-end w-full">
          <div class="w-20 mr-2">
            <button @click="add_tasks = false"
              class="w-full text-sm font-bold text-blue-600 uppercase hover:text-blue-300">
              <%= t(".close") %>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
