<% content_for(:sidebar) do %>
<%= render('application/account_menu', current: :customers) %>
<% end %>

<div class="w-full overflow-y-auto lg:flex-grow pb-4 sm:px-4 sm:py-2 lg:px-8 lg:py-6">
  <div class="flex-grow mx-auto">
    <div class="w-full px-2 pt-2 pb-1 lg:p-0 inline-flex justify-between">
      <div class="">
        <h2 class="text-sm lg:text-base font-medium text-gray-500">
          <%= link_to(customers_path, class: '') do %>
          <%= t('.customers') %>
          <% end %> /
          <span class="text-gray-800"><%= @customer.name %></span>
        </h2>
        <h1 class="text-2xl md:text-3xl font-bold text-gray-800 lg:mt-1">
          <%= @customer.name %>
        </h1>
      </div>
      <div class="relative flex items-start mt-2">
        <%= link_to(edit_customer_path(@customer),
                  class: 'bg-blue-600 border-l border-t border-b border-blue-600
                          hover:bg-blue-500 hover:border-blue-500 py-2 px-3 rounded-l
                          text-white font-semibold') do %>
        <%= t('.edit_customer') %>
        <% end %>
        <div
          class="drop-down-parent bg-blue-800 hover:bg-blue-900 border border-blue-800 hover:border-blue-900 rounded-r py-2 flex justify-end">
          <svg class="h-6 w-6 text-gray-500" fill="currentColor" viewBox="0 0 24 24">
            <path d="M15.3 9.3a1 1 0 0 1 1.4 1.4l-4 4a1 1 0 0 1-1.4 0l-4-4a1 1 0 0 1 1.4-1.4l3.3 3.29 3.3-3.3z" />
          </svg>
          <div class="drop-down absolute z-10 -mt-3">
            <div class="shadow-lg bg-gray-800 rounded px-4 py-4 flex-wrap justify-center">
              <div class="flex justify-center">
                <%= link_to(edit_customer_path(@customer),
                            class: "text-center bg-blue-100 hover:bg-blue-200
                                    border border-gray-400 py-1 px-2 rounded") do %>
                <%= t('archive_customer') %>
                <% end %>
              </div>
              <div class="mt-2 flex justify-center">
                <%= button_to(t('.delete_customer'),
                              customer_path(@customer),
                              method: :delete,
                              class: "w-32 text-center bg-red-600 hover:bg-red-500
                                      border border-red-600 hover:border-red-500
                                      py-1 px-2 rounded text-white",
                              data: { confirm: t('.delete_confirm')}) %>
              </div>
            </div>
          </div>
        </div>
        <%= link_to(edit_customer_path(@customer),
        class: 'ml-2 bg-green-600 border-l border-t border-b border-green-600
                hover:bg-green-500 hover:border-green-500 py-2 px-3 rounded-l
                text-white font-semibold') do %>
        <%= t('.new_task') %>
        <% end %>
        <div
          class="drop-down-parent bg-green-800 hover:bg-green-900 border border-green-800 rounded-r py-2 flex justify-end">
          <svg class="h-6 w-6 text-gray-500" fill="currentColor" viewBox="0 0 24 24">
            <path d="M15.3 9.3a1 1 0 0 1 1.4 1.4l-4 4a1 1 0 0 1-1.4 0l-4-4a1 1 0 0 1 1.4-1.4l3.3 3.29 3.3-3.3z" />
          </svg>
          <div class="drop-down absolute z-10 -mt-3">
            <div class="shadow-lg bg-gray-800 w-32 rounded px-1 py-2 flex-wrap justify-center">
              <div class="flex justify-center">
                <%= link_to(new_project_path,
                  class: "text-center bg-blue-100 hover:bg-blue-200
                          border border-gray-400 py-1 px-1 rounded") do %>
                <%= t('new_project') %>
                <% end %>
              </div>
              <div class="mt-2 flex justify-center">
                <%= link_to(new_invoice_path,
                class: "text-center bg-blue-100 hover:bg-blue-200
                        border border-gray-400 py-1 px-2 rounded") do %>
                <%= t('new_invoice') %>
                <% end %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="w-full flex flex-col bg-white border border-gray-500 shadow-xl rounded lg:mt-3">
      <div class="flex flex-wrap -mx-2 p-4">
        <div class="w-full xl:w-2/3 px-2">
          <div class="bg-white rounded border border-gray-500">
            <div class="rounded-t flex">
              <div
                class="w-2/5 md:w-1/3 flex flex-wrap items-center justify-center bg-gray-200 rounded-l border-r border-gray-500 p-6">
                <div class="w-full flex justify-center mb-2">
                  <div class="rounded-full h-20 w-20 bg-green-500 inline-flex items-center justify-center">
                    <span class="text-white font-bold text-3xl">
                      <%= @customer.initials %>
                    </span>
                  </div>
                </div>
                <div class="mx-auto text-center">
                  <p class="text-xl font-medium text-gray-800"><%= @customer.name %></p>
                  <p class="text-lg text-gray-700">070 - 123 12 12</p>
                  <div class="mt-3 text-base text-blue-600">
                    <div class="text-xs uppercase font-bold text-gray-600 tracking-wide">
                      Webb
                    </div>
                    <div class="flex items-center mt-2">
                      <% if @customer.email %>
                      <div class="w-5 inline-block text-center text-lg">
                        <i class="far fa-envelope fa-2xl"></i>
                      </div>
                      <div class="text-center inline ml-2">
                        <%= link_to(@customer.email, "mailto:#{@customer.email}") %>
                      </div>
                      <% end %>
                    </div>
                    <div class="flex items-center mt-1 justify-center">
                      <% if @customer.web %>
                      <div class="w-5 inline-block text-center text-lg">
                        <i class="fas fa-at fa-2xl"></i>
                      </div>
                      <div class="text-center inline ml-2">
                        <%= link_to(@customer.web, @customer.web, target: '_blank') %>
                      </div>
                      <% end %>
                    </div>
                  </div>
                </div>
              </div>
              <div class="w-1/3 md:w-1/3 p-6">
                <h1 class="text-xl font-bold text-gray-800 mb-2">Details</h1>
                <p class="">ID - 123123123</p>
                <p class="">VAT - 123123123</p>
                <h1 class="text-xl font-bold text-gray-800 mb-2 mt-6">Billing address</h1>
                <% if @customer.street %>
                <p class=""><%= @customer.street %></p>
                <% end %>
                <% if @customer.zip_code && @customer.city %>
                <p class=""><%= @customer.zip_code %></p>
                <p class=""><%= @customer.city %></p>
                <% elsif @customer.zip_code %>
                <p class=""><%= @customer.zip_code %></p>
                <% elsif @customer.city %>
                <p class=""><%= @customer.city %></p>
                <% end %>
              </div>
              <div class="w-1/3 md:w-1/3 p-6">
                <h1 class="text-xl font-bold text-gray-800 mb-2">Misc.</h1>
                <p class="">Registered - 2020-02-02</p>
                <p class="">Hours - 123h</p>
              </div>
            </div>
          </div>
        </div>
        <div class="w-1/3 mt-4 xl:mt-0 px-2">
          <div class="bg-white shadow-xl rounded border border-gray-500 p-6">
            <h1 class="text-xl font-bold text-gray-800 mb-2">Summary</h1>
            <p class="">Paid to date - 1234 kr</p>
            <p class="">Hours - 123h</p>
          </div>
        </div>
      </div>
      <div class="flex mb-2 mt-8 border-b border-gray-500 px-4 text-center">
        <div class="w-full lg:w-2/5 xl:w-1/4 flex -mx-1">
          <div class="w-1/3 px-1">
            <div
              class="w-full bg-white inline-block border-l border-t border-r border-gray-500 rounded-t py-2 text-blue-800 font-semibold -mb-px">
              Projects
            </div>
          </div>
          <div class="w-1/3 px-1 flex">
            <div
              class="w-full bg-gray-100 border-l border-t border-r border-gray-400 rounded-t py-1 text-blue-800 font-semibold flex items-center justify-center">
              Tasks
            </div>
          </div>
          <div class="w-1/3 px-1 flex">
            <div
              class="w-full bg-gray-100 border-l border-t border-r border-gray-400 rounded-t py-1 text-blue-800 font-semibold flex items-center justify-center">
              Invoices
            </div>
          </div>
        </div>
        <div class="hidden lg:block w-3/5 xl:w-3/4"></div>
      </div>
      <div class="flex px-4">
        <div class="my-2 flex sm:flex-row flex-col">
          <div class="flex flex-row mb-1 sm:mb-0">
            <div class="relative">
              <select
                class="appearance-none h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
                <option>5</option>
                <option>10</option>
                <option>20</option>
              </select>
              <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                <svg class="ml-2 h-6 w-6 text-gray-500" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M15.3 9.3a1 1 0 0 1 1.4 1.4l-4 4a1 1 0 0 1-1.4 0l-4-4a1 1 0 0 1 1.4-1.4l3.3 3.29 3.3-3.3z" />
                </svg>
              </div>
            </div>
            <div class="relative ml-2">
              <select
                class="appearance-none h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500">
                <option>All</option>
                <option>Active</option>
                <option>Archived</option>
              </select>
              <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                <svg class="ml-2 h-6 w-6 text-gray-500" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M15.3 9.3a1 1 0 0 1 1.4 1.4l-4 4a1 1 0 0 1-1.4 0l-4-4a1 1 0 0 1 1.4-1.4l3.3 3.29 3.3-3.3z" />
                </svg>
              </div>
            </div>
            <div class="relative ml-2 hidden">
              <select
                class="appearance-none h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500">
                <option>Type</option>
                <option>Houses</option>
                <option>Industry</option>
                <option>Apartments</option>
              </select>
              <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                <svg class="ml-2 h-6 w-6 text-gray-500" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M15.3 9.3a1 1 0 0 1 1.4 1.4l-4 4a1 1 0 0 1-1.4 0l-4-4a1 1 0 0 1 1.4-1.4l3.3 3.29 3.3-3.3z" />
                </svg>
              </div>
            </div>
          </div>
          <div class="relative w-64 sm:ml-2">
            <span class="absolute inset-y-0 left-0 flex items-center pl-2">
              <svg viewBox="0 0 24 24" class="h-5 w-5 fill-current text-gray-500">
                <path
                  d="M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z">
                </path>
              </svg>
            </span>
            <input placeholder="Search"
              class="block pl-8 pr-4 py-2 w-full bg-white border border-gray-400 rounded text-sm placeholder-gray-500 text-white focus:bg-white focus:placeholder-gray-400 focus:text-gray-800 focus:outline-none focus:border-gray-500">
          </div>
        </div>
      </div>
      <div class="flex px-4 pb-4">
        <div class="w-full bg-white border border-gray-400 rounded rounded shadow-md mt-2">
          <div class="border-b-2 bg-gray-200 rounded-t">
            <div class="w-full flex py-3">
              <div class="w-20 md:w-24 flex inline-block justify-center">
              </div>
              <div class="w-full flex">
                <div class="w-1/3 lg:w-1/4 flex">
                  <span class="uppercase text-sm font-semibold text-blue-900">
                    Name
                  </span>
                </div>
                <div class="w-1/3 lg:w-1/4 flex">
                  <span class="uppercase text-sm font-semibold text-blue-900">
                    Customer
                  </span>
                </div>
                <div class="w-1/4 hidden lg:flex">
                  <span class="uppercase text-sm font-semibold text-blue-900">
                    Address
                  </span>
                </div>
                <div class="w-1/3 lg:w-1/4 flex justify-center md:justify-start">
                  <span class="uppercase text-sm font-semibold text-blue-900">
                    Status
                  </span>
                </div>
              </div>
              <div class="w-16 hidden md:flex items-center">
              </div>
            </div>
          </div>
          <% if @customer.projects.empty? %>
          <%= render('projects/empty') %>
          <% else %>
          <div class="flex flex-wrap items-start">
            <% @customer.projects.each_with_index do |project, idx| %>
            <div class="w-full">
              <%= render('projects/row', project: project, odd: idx % 2 == 0) %>
            </div>
            <% end %>
          </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
