<% content_for(:sidebar) do %>
  <%= render('application/account_menu', current: :customers) %>
<% end %>
<% content_for(:header_title) do %>
  <%= t('.title') %>
<% end %>
<div x-data="{ tab: 'projects' }" class="flex flex-col flex-grow bg-white">
  <%= render('show_heading') %>
  <div class="px-4 sm:px-6 py-5">
    <div class="flex flex-wrap justify-between -mx-2">
      <div class="w-full lg:w-2/3 xl:w-3/4 max-w-7xl px-2">
        <dl class="grid grid-cols-1 col-gap-4 row-gap-8 sm:grid-cols-2">
          <% if @customer.street.present? | @customer.zip_code.present? | @customer.city.present? %>
            <div class="sm:col-span-1">
              <dt class="text-sm leading-5 font-medium text-gray-500">
                <%= t('.address') %>
              </dt>
              <dd class="mt-1 text-sm leading-5 text-gray-900">
                <% if @customer.street %>
                  <%= @customer.street %>
                <% end %>
                <% if @customer.zip_code && @customer.city %>
                  <%= @customer.zip_code %>
                  <p class=""><%= @customer.city %></p>
                <% elsif @customer.zip_code %>
                  <p class=""><%= @customer.zip_code %></p>
                <% elsif @customer.city %>
                  <p class=""><%= @customer.city %></p>
                <% end %>
              </dd>
            </div>
          <% end %>
          <% if @customer.phone.present? %>
            <div class="sm:col-span-1">
              <dt class="text-sm leading-5 font-medium text-gray-500">
                <%= t('.phone') %>
              </dt>
              <dd class="mt-1 text-sm leading-5 text-gray-900">
                <%= @customer.phone %>
              </dd>
            </div>
          <% end %>
          <% if @customer.email.present? %>
            <div class="sm:col-span-1">
              <dt class="text-sm leading-5 font-medium text-gray-500">
                Email address
              </dt>
              <dd class="mt-1 text-sm leading-5 text-blue-500">
                <%= link_to(@customer.email, "mailto:#{@customer.email}") %>
              </dd>
            </div>
          <% end %>
          <div class="sm:col-span-1">
            <dt class="text-sm leading-5 font-medium text-gray-500">
              Salary expectation
            </dt>
            <dd class="mt-1 text-sm leading-5 text-gray-900">
              $120,000
            </dd>
          </div>
          <div class="sm:col-span-2">
            <dt class="text-sm leading-5 font-medium text-gray-500">
              About
            </dt>
            <dd class="mt-1 text-sm leading-5 text-gray-900">
              Fugiat ipsum ipsum deserunt culpa aute sint do nostrud anim incididunt cillum culpa consequat. Excepteur
              qui ipsum aliquip consequat sint. Sit id mollit nulla mollit nostrud in ea officia proident. Irure nostrud
              pariatur mollit ad adipisicing reprehenderit deserunt qui eu.
            </dd>
          </div>
          <div class="sm:col-span-2">
            <dt class="text-sm leading-5 font-medium text-gray-500">
              Attachments
            </dt>
            <dd class="mt-1 text-sm leading-5 text-gray-900">
              <ul class="border border-gray-200 rounded-md">
                <li class="pl-3 pr-4 py-3 flex items-center justify-between text-sm leading-5">
                  <div class="w-0 flex-1 flex items-center">
                    <svg class="flex-shrink-0 h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd"
                        d="M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z"
                        clip-rule="evenodd" />
                    </svg>
                    <span class="ml-2 flex-1 w-0 truncate">
                      resume_back_end_developer.pdf
                    </span>
                  </div>
                  <div class="ml-4 flex-shrink-0">
                    <a href="#"
                      class="font-medium text-indigo-600 hover:text-indigo-500 transition duration-150 ease-in-out">
                      Download
                    </a>
                  </div>
                </li>
                <li class="border-t border-gray-200 pl-3 pr-4 py-3 flex items-center justify-between text-sm leading-5">
                  <div class="w-0 flex-1 flex items-center">
                    <svg class="flex-shrink-0 h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd"
                        d="M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z"
                        clip-rule="evenodd" />
                    </svg>
                    <span class="ml-2 flex-1 w-0 truncate">
                      coverletter_back_end_developer.pdf
                    </span>
                  </div>
                  <div class="ml-4 flex-shrink-0">
                    <a href="#"
                      class="font-medium text-indigo-600 hover:text-indigo-500 transition duration-150 ease-in-out">
                      Download
                    </a>
                  </div>
                </li>
              </ul>
            </dd>
          </div>
        </dl>
      </div>
      <div class="w-full lg:w-1/3 xl:w-1/4 -mt-2 hidden lg:block px-2">
        <div class="flex-grow flex justify-end"></div>
      </div>
    </div>
  </div>
  <div class="">
    <div class="border-b border-gray-200 px-4 sm:px-5 bg-white">
      <nav class="flex -mb-px">
        <button button
          :class="{ 'border-indigo-500 text-indigo-700 focus:text-indigo-800 focus:border-indigo-700 hover:border-indigo-700 hover:text-indigo-700': tab === 'projects' }"
          @click="tab = 'projects'"
          class="group inline-flex items-center py-4 px-1 border-b-2 border-transparent font-medium text-base leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300">
          <svg class="-ml-0.5 mr-2 h-5 w-5 group-focus:text-gray-600" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
          </svg>
          <%= t('.projects') %>
        </button>
        <button button
          :class="{ 'border-indigo-500 text-indigo-700 focus:text-indigo-800 focus:border-indigo-700 hover:border-indigo-700 hover:text-indigo-700': tab === 'tasks' }"
          @click="tab = 'tasks'"
          class="ml-8 group inline-flex items-center py-4 px-1 border-b-2 border-transparent font-medium text-base leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300">
          <svg class="-ml-0.5 mr-2 h-5 w-5 group-focus:text-gray-600" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
          </svg>
          <%= t('.tasks') %>
        </button>
        <button button
          :class="{ 'border-indigo-500 text-indigo-700 focus:text-indigo-800 focus:border-indigo-700 hover:border-indigo-700 hover:text-indigo-700': tab === 'invoices' }"
          @click="tab = 'invoices'"
          class="ml-8 group inline-flex items-center py-4 px-1 border-b-2 border-transparent font-medium text-base leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300">
          <svg class="-ml-0.5 mr-2 h-5 w-5 group-focus:text-gray-600" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
          </svg>
          <%= t('.invoices') %>
        </button>
      </nav>
    </div>
  </div>
  <div x-show="tab === 'projects'" class="flex-grow -mt-px">
    <%= render("projects/table", customer: @customer, projects: @projects, show_filters: false) %>
  </div>
  <div x-show="tab === 'invoices'" class="flex-grow -mt-px">
    <%= render("invoices/table", customer: @customer, invoices: @invoices, show_filters: false) %>
  </div>
  <div x-show="tab === 'tasks'" class="flex-grow -mt-px">
    <%= render('tasks/table', customer: @customer, tasks: @customer.tasks) %>
  </div>
</div>
